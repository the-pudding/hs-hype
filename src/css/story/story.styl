/* CUSTOM STORY STYLE */

.chart
  max-width $column-width
  margin 0 auto
  &__meta
    padding 0 1rem
    font-family $national
    margin 1rem 0 2rem 0
    &-title
      font-weight bold
      set-type-size('x-large')
      margin 0
      .top
        color $orange
      .unranked
        color $blue
    &-sub
      set-type-size('small')
      text-transform uppercase
      margin 0

    &-replay
      font-family $national
      background-color: $bg
      padding 0.25rem 0.5rem
      border 1px solid $brown
      color $brown
      display flex
      justify-content: center;
      align-items: center
      set-type-size('small')
      text-transform uppercase
      font-weight bold
      margin-top 0.5rem
      transition background-color 200ms ease-in-out
      svg
        stroke $brown
        transform scale(0.8)
        margin 0 0 0 0.2rem
      &:hover
        background-color: lighten($orange, 35)
        transition 200ms ease-in-out

.chart__flow
  height 500px
  position relative
  canvas
    position absolute
    z-index 200
    font-family $national
  svg
    position absolute
    border-bottom 2px solid $brown
    path
      stroke-width 1px
      fill none
    .g-labels
      .label
        font-family $national
        text-transform: uppercase;
        fill $brown
        font-weight bold
      .percentage
        font-family $national
        font-weight bold
        set-type-size('small')
        &__top
          fill $orange;
        &__underdog
          fill $blue
      .count
        font-family $national
        set-type-size('small')
        fill lighten($brown, 20)


    .annotations__rank
      circle
        fill none
        stroke-width 1px
        stroke $brown
        z-index 200
      text
        font-family $national
        set-type-size('small')
        fill $brown
      line
        stroke-width 1px
        stroke $brown
    .annotations__underdog
      text
        font-family $national
        set-type-size('x-small')
        fill $blue
        text-transform uppercase;
      line
        stroke-width 1px
        stroke $blue
  .g-bg
    .bg-block
      fill darken($bg, 4)
    text
      font-family $national
      text-transform: uppercase;
      fill darken($bg, 50)

.smallMultiples
  display flex
  flex-direction row
  flex-wrap wrap
  margin 0 auto
  max-width $column-width
.multiple
  width 140px
  margin 1rem 0.95rem
  +mq('bp-4')
    margin 1rem 2rem
  .bar-label
    font-family $national
    set-type-size('small')
    margin-left 5px
    color lighten($brown, 20)
    width 34px
  .meta
    font-family $national
    margin-bottom 0.5rem
    .studentCount
      set-type-size('small')
      text-align: center
      margin 0
      color $brown
      line-height 1
    .schoolName
      text-align center
      height 42px
      margin 0
      line-height 1.2
      color $brown
      font-size 15px
      font-weight 700
  .g-bar
    display flex
    flex-direction row
    align-items center
    height 16px
    padding 3px 0
    justify-content: center;
    &-bad, &-good, &-great, &-allstar
      background-color: darken($bg, 4)
    &-bad
      //margin-top 5px
      // padding-top 6px
      border-top 1px dashed $brown
      // height 19px

    .bar
      background-color $orange
    // &-college, &-draft, &-rookie, &-highSchool
    //   .bar
    //     background-color $orange
    // &-bad, &-good, &-great, &-allstar
    //   .bar
    //     background-color $blue


.key-container
  max-width $column-width
  margin 0 auto
  .multKey
    width 300px
    margin 0 auto
    padding 0 1rem
    position relative
    .meta
      position absolute
      transform translate(-15px, 55px) rotate(-90deg)
      font-family $national
      set-type-size('small')
      color lighten($brown, 20)
    .barChart
      display flex
      flex-direction row

      .gbar
        display flex
        flex-direction row

      .label
        font-family $national
        set-type-size('small')
        color lighten($brown, 20)
        text-align right
        align-self flex-end
        padding 0 10px
        &-bad, &-good, &-great, &-allstar
          background-color darken($bg, 4)
        &-bad
          border-top 1px dashed $brown
      .barsOnly
        display flex
        flex-direction column
        align-items: center
      .barContainer
        height 18px
        padding 4px
        width 150px
        display flex
        justify-content: center;
        &-bad, &-good, &-great, &-allstar
          background-color darken($bg, 4)
        &-bad
          border-top 1px dashed $brown
      .bar
        background-color $orange
